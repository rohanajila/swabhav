<!DOCTYPE html>
<html>
  <head>
    <style>
      .circle {
        height: 50px;
        width: 50px;
        border-radius: 50%;
        line-height: 50px;
        text-align: center;
        font-size: 25px;
        cursor: pointer;
        display: inline-block;
        background-color: grey;
      }
    </style>
    <title>Blue Ball Guess Game</title>
  </head>
  <body>
    <h1>Welcome to Blue Ball Guess Game</h1>
    <h2>Rules of the game:</h2>
    <h3>1) Pick a ball from the list</h3>
    <h3>
      2) If selected ball turns red that means blue ball is after selected
      ball(Guess is low).
    </h3>
    <h3>
      3) If selected ball turns green that means blue ball is before it(Guess is
      high).
    </h3>
    <h3>4) You have 5 chances to guesss</h3>
    <h3>ALL THE BEST !</h3>

    <table>
      <script>
        var guessNumber = Math.floor(Math.random() * 50 + 1);
        for (let i = 1; i <= 50; i++) {
          if (i == 1) {
            document.write("<tr>");
          }
          document.write(
            '<td><p class="circle" value="' + i + '">' + i + "</p></td>"
          );
          if (i == 25 || i == 50) {
            document.write("</tr>");
          }
        }

        var numberOfGuesses = 0;
        document.querySelectorAll("p").forEach((item, key) => {
          item.addEventListener("click", function () {
            numberOfGuesses++;
            if (item.innerHTML > guessNumber) {
              item.style.backgroundColor = "green";
              item.style.color = "white";
            } else if (item.innerHTML < guessNumber) {
              item.style.backgroundColor = "red";
              item.style.color = "white";
            } else if (item.innerHTML == guessNumber) {
              item.style.backgroundColor = "blue";
              item.style.color = "white";
              setTimeout(Win, 500);
            }
            if (numberOfGuesses > 5) {
              setTimeout(Lose, 500);
            }
          });
        });

        function Lose() {
          alert("Game over! The number was " + guessNumber + ". Play again");
          location.reload();
        }

        function Win() {
          alert("Congratulations! you have Won!!!!");
          location.reload();
        }
      </script>
    </table>
  </body>
</html>
